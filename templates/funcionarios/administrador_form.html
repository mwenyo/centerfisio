{% extends 'clinica/convenio/list.html' %}
{% load static %}

{% block breadcrumb %}
<li>Configurações</li>
<li>Cadastros</li>
<li>Funcionários</li>
<li>Administradores</li>

{% if object %}
<li><strong>{{ object.nome }}</strong></li>
<li>Editar</li>
{% else %}
<li><strong>Adicionar</strong></li>
{% endif %}
{% endblock breadcrumb %}

{% block conteudo %}

<!--
        The ID "widget-grid" will start to initialize all widgets below 
        You do not need to use widgets if you dont want to. Simply remove 
        the <section></section> and you can use wells or panels instead 
        -->

<!-- widget grid -->
<section id="widget-grid" class="">

    <!-- row -->
    <div class="row">

        <!-- NEW WIDGET START -->
        <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

            <!-- Widget ID (each widget will need unique ID)-->
            <div class="jarviswidget jarviswidget-color-teal" id="wid-id-0" data-widget-editbutton="false"
                data-widget-togglebutton="false" data-widget-deletebutton="false" data-widget-custombutton="false"
                data-widget-sortable="false">
                <!-- widget options:
                        usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">
                        
                        data-widget-colorbutton="false"	
                        data-widget-editbutton="false"
                        data-widget-togglebutton="false"
                        data-widget-deletebutton="false"
                        data-widget-fullscreenbutton="false"
                        data-widget-custombutton="false"
                        data-widget-collapsed="true" 
                        data-widget-sortable="false"
                        
                    -->
                <header>
                    <h2>

                        {% if object %}
                        Editar Administrador {{ object.nome }}
                        {% else %}
                        Adicionar Administrador
                        {% endif %}

                    </h2>
                </header>

                <!-- widget div-->
                <div>

                    <!-- widget content -->
                    <div class="widget-body">

                        <div class="row">
                            <form id="wizard-1" novalidate="novalidate">
                                <div id="bootstrap-wizard-1" class="col-sm-12">
                                    <div class="form-bootstrapWizard">
                                        <ul class="bootstrapWizard form-wizard">
                                            <li class="active" data-target="#step1">
                                                <a href="#tab1" data-toggle="tab"> <span class="step">1</span> <span
                                                        class="title">Dados de Acesso</span> </a>
                                            </li>
                                            <li data-target="#step2">
                                                <a href="#tab2" data-toggle="tab"> <span class="step">2</span> <span
                                                        class="title">Dados Pessoais</span> </a>
                                            </li>
                                            <li data-target="#step3">
                                                <a href="#tab3" data-toggle="tab"> <span class="step">3</span> <span
                                                        class="title">Endereço</span> </a>
                                            </li>
                                            <li data-target="#step4">
                                                <a href="#tab4" data-toggle="tab"> <span class="step">4</span> <span
                                                        class="title">Conclusão</span> </a>
                                            </li>
                                        </ul>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="tab-content">
                                        <div class="tab-pane active" id="tab1">
                                            <br>
                                            <h3><strong>1ª Etapa </strong> - Dados de acesso ao sistema</h3>

                                            <div class="row">

                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label>Login</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-user fa-fw"></i></span>
                                                            {{ form.usuario }}

                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label>Email</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-envelope fa-fw"></i></span>
                                                            {{ form.email }}
                                                        </div>
                                                    </div>

                                                </div>

                                            </div>

                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label>Senha</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-lock fa-fw"></i></span>
                                                            {{ form.senha }}

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label>Confirmar Senha</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-lock fa-fw"></i></span>
                                                            {{ form.confirmar_senha }}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="tab-pane" id="tab2">
                                            <br>
                                            <h3><strong>3ª Etapa</strong> - Dados Pessoais</h3>

                                            <div class="row">

                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label>Nome</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-user fa-fw"></i></span>
                                                            {{ form.nome }}

                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label>Sobrenome</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-user fa-fw"></i></span>
                                                            {{ form.sobrenome }}
                                                        </div>
                                                    </div>

                                                </div>

                                            </div>
                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>CPF</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-credit-card fa-fw"></i></span>
                                                            {{ form.cpf }}
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>Data de Nascimento</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-gift fa-fw"></i></span>
                                                            {{ form.nascimento }}
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>Data de Contratação</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-briefcase fa-fw"></i></span>
                                                            {{ form.contratacao }}
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label>Telefone</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-phone fa-fw"></i></span>
                                                            {{ form.telefone1}}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label>Outro Telefone</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-mobile fa-fw"></i></span>
                                                            {{ form.telefone2}}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>Estado Civil</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-heart fa-fw"></i></span>
                                                            {{ form.estado_civil}}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>Gênero</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-group fa-fw"></i></span>
                                                            {{ form.genero}}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>Foto</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-camera fa-fw"></i></span>
                                                            {{ form.foto}}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="tab3">
                                            <br>
                                            <h3><strong>3ª Etapa</strong> - Endereço</h3>

                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>Endereço</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-road fa-fw"></i></span>
                                                            {{ form.endereco }}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>Complemento</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-map-marker fa-fw"></i></span>
                                                            {{ form.complemento }}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>Número</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-slack fa-fw"></i></span>
                                                            {{ form.numero }}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>Bairro</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-th-large fa-fw"></i></span>
                                                            {{ form.bairro }}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>Cidade</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-map-marker fa-fw"></i></span>
                                                            {{ form.cidade }}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label>Estado</label>
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i
                                                                    class="fa fa-flag fa-fw"></i></span>
                                                            {{ form.uf }}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="tab4">
                                            <br>
                                            <h3><strong>4ª Etapa</strong> - Save Form</h3>
                                            <br>
                                            <h1 class="text-center text-success"><strong><i
                                                        class="fa fa-check fa-lg"></i> Complete</strong></h1>
                                            <h4 class="text-center">Click next to finish</h4>
                                            <br>
                                            <br>
                                        </div>

                                        <div class="form-actions">
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <ul class="pager wizard no-margin">
                                                        <li class="previous disabled">
                                                            <a href="javascript:void(0);"
                                                                class="btn btn-lg btn-default"> Anterior </a>
                                                        </li>
                                                        <li class="next">
                                                            <a href="javascript:void(0);"
                                                                class="btn btn-lg txt-color-darken"> Próximo </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </form>
                        </div>

                    </div>
                    <!-- end widget content -->

                </div>
                <!-- end widget div -->

            </div>
            <!-- end widget -->

        </article>
        <!-- WIDGET END -->

    </div>

    <!-- end row -->

</section>
<!-- end widget grid -->

{% endblock conteudo %}

{% block js_plugins %}
<script src="{% static 'js/plugin/jquery-validate/jquery.validate.min.js' %}"></script>
<script src="{% static 'js/plugin/jquery-validate/additional-methods.min.js' %}"></script>
<script src="{% static 'js/plugin/masked-input/jquery.maskedinput.min.js' %}"></script>
<script src="{% static 'js/plugin/bootstrap-wizard/jquery.bootstrap.wizard.min.js' %}"></script>

<script>
    $(function () {
        //Bootstrap Wizard Validations

        $('#id_usuario').focus();

        var $validator = $("#wizard-1").validate({

            rules: {
                email: {
                    required: true,
                    email: "Seu endereço de email deve ser no formato nome@dominio.com"
                },
                nome: {
                    required: true
                },
                sobrenome: {
                    required: true
                },
                senha: {
                    required: true
                },
                confirmar_senha: {
                    required: true,
                    equalTo: "#id_senha",
                },
                usuario: {
                    required: true,
                    maxlength: 150
                },
                telefone1: {
                    required: true,
                    minlength: 10
                },
                cpf: {
                    required: true,
                    minlength: 14
                },
                nascimento: {
                    required: true,
                },
                contratacao: {
                    required: true,
                },
                foto: {
                    required: true,
                    extension: "png|jpg|jpeg|bmp",
                }
            },

            messages: {
                nome: "Por favor, preencha com seu nome",
                sobrenome: "Por favor, preencha com seu sobrenome",
                email: {
                    required: "Por favor, preencha com seu  email",
                    email: "Seu endereço de email deve ser no formato nome@dominio.com"
                },
                senha: "Por favor, preencha com sua senha",
                confirmar_senha: "Por favor, repita a senha anterior",
                usuario: {
                    required: "Por favor, preencha com seu login. Letras, números e @/./+/-/_ apenas.",
                    maxlength: "150 caracteres ou menos. Letras, números e @/./+/-/_ apenas."
                },
                telefone1: "Por favor, preencha com seu telefone",
                cpf: "Por favor, preencha com seu CPF",
                nascimento: "Por favor, preencha com a sua data de nascimento",
                nascimento: "Por favor, preencha com a sua data de contratacao",
                foto: {
                    required: "Por favor, selecione um arquivo de seu computador",
                    extension: "Apenas arquivos no formato .png, .jpg, .jpeg e .bmp"
                },
            },

            highlight: function (element) {
                $(element).closest('.form-group').removeClass('has-success').addClass('has-error');
            },
            unhighlight: function (element) {
                $(element).closest('.form-group').removeClass('has-error').addClass('has-success');
            },
            errorElement: 'span',
            errorClass: 'help-block',
            errorPlacement: function (error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else {
                    error.insertAfter(element);
                }
            }
        });

        $('#bootstrap-wizard-1').bootstrapWizard({
            'tabClass': 'form-wizard',
            'onNext': function (tab, navigation, index) {
                var $valid = $("#wizard-1").valid();
                if (!$valid) {
                    $validator.focusInvalid();
                    return false;
                } else {
                    $('#bootstrap-wizard-1').find('.form-wizard').children('li').eq(index - 1).addClass(
                        'complete');
                    $('#bootstrap-wizard-1').find('.form-wizard').children('li').eq(index - 1).find('.step')
                        .html('<i class="fa fa-check"></i>');
                }
            }
        });
    });
</script>
{% endblock js_plugins %}